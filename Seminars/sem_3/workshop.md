Классификация пользователей в Linux

Суперпользователь (root)

● UID = 0
● Home /root
● Пароль не всегда
● Есть shell
● Неограниченные полномочия

Обычный пользователь (user)

● UID > 1000
● Home /home/user
● Пароль установлен
● Есть shell
● Доступ в рамках домашней директории

Системный пользователь (daemon)

● 1 < UID < 1000
● Home Любая
● Пароля нет
● Нет shell
● Ограниченный доступ

Атрибуты пользователя
● UID – user ID
● GID – group ID
● Домашняя директория (home)
● Логин (login)
● Пароль (password)
● Оболочка (shell)

Пользователь в Ubuntu

● 1000
● 1000
● /home/{user}
● {user}
● *****
● /bin/bash

Хранение данных о пользователях

 /etc/passwd – список пользователей
● /etc/group – группы пользователей
● /etc/shadow – пароли пользователей

Управление пользователями

● useradd – создание пользователя
● adduser – создание пользователя (скрипт)
● usermod – изменение пользователя
● userdel – удаление пользователя
● passwd – изменение пароля
● chage – изменение свойств пароля
● groupadd – создание группы
● groupdel – удаление группы

Механизм sudo и su

● su – переключение пользователя
● sudo su – переключение на
суперпользователя (root)
● sudo – выполнение команды с правами
суперпользователя
● /etc/sudoers – конфигурация sudo
● visudo – редактирование

Изменение владельца и группы владельца файлов

● chown – изменение владельца и группы
○ chown -R – рекурсивно
○ chown testuser:testgroup
○ chown testuser
● chgrp – изменение группы
○ chgrp -R –рекурсивно
○ chgrp testgroup


Права доступа

Права доступа для файлов и директорий

-rwxr-xr--

* Владелец - совпадение пользователя - rwx 
* Группа - пользователь в группе - r-x
* Остальные - все остальные пользователи - r--

Специальные биты

-rwsr-sr-t

* SUID 4000 - для исполняемых файлов - запуск программы от имени владельца файла
* SGID 2000 - для директорий - создание файлов с группой, назначенной для директории
* Sticky bit 1000 - для директорий - удаление файлов только владельцем файла или директории

Изменение прав доступа

● chmod — change mode, изменение прав доступа
○ chmod -R testdir/ – рекурсивно
○ chmod u=rwx,g=rx,o=r testfile – символьная форма
○ chmod 751 testfile – числовая форма
○ chmod a+x – изменение для всех
○ chmod 4755 – изменение специальных битов

Права по умолчанию и umask

            Файлы  -  Директории

Полные права  -     666   -   777 

Значение umask  -   022  -   022

Права по умолчанию - 644  -   755 

На этом уроке мы
Изучили классификацию пользователей
Рассмотрели основные атрибуты пользователей и групп
Узнали, где хранятся сведения о пользователях
Научились добавлять, изменять и удалять пользователей и группы
Разобрались в механизме распределения прав доступа к файлам









